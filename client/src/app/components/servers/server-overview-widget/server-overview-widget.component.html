<div>
    <p class="heading-small">Servers</p>
    <hr class="horizontal-line-light">
</div>

<div class="flex-view" *ngIf="servers && cpuReadings && systemStats && systemInformation">
    <div class="server" *ngFor="let server of servers; let i = index">
        <mat-card class="server">
            <mat-card-header>
                <mat-card-title>
                    <p class="server-status-indicator" [ngClass]="{'server-active': isServerActive(i), 'server-inactive': !isServerActive(i)}">
                    {{isServerActive(i) ? "Running" : "Inactive"}}
                    </p>
                    {{server['friendlyName']}}
                </mat-card-title>
            </mat-card-header>
            <mat-card-content>
                <ngx-gauge type="semi" 
                           [value]="getLatestCpuReading(i)['currentLoad'] * 100" 
                           label="CPU Usage"  
                           append="%"
                           min="0"
                           max=100>
                </ngx-gauge>
                
                <ngx-gauge type="semi" 
                           [value]="getLatestCpuReading(i)['currentTemp']" 
                           label="CPU Temperature"  
                           append="Â°C"
                           min="0"
                           max="102">
                </ngx-gauge>

                <ngx-gauge type="semi" 
                           [value]="getLatestCpuReading(i)['currentClockspeed']" 
                           label="CPU Usage"  
                           append="Ghz"
                           min="0"
                           [max]="systemInformation[i]['cpuInformation']['speedMax']">
                </ngx-gauge>
            </mat-card-content>
        </mat-card>
    </div>
</div>

